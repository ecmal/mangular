{
  "version": 3,
  "file": "menu.js",
  "sourceRoot": "/Users/Grigor/work/ecmal/mangular/src",
  "sources": [
    "menu.ts"
  ],
  "names": [
    "Menu",
    "Menu.constructor",
    "Menu.selectSection",
    "Menu.toggleSelectSection",
    "Menu.isSectionSelected",
    "Menu.selectPage",
    "Menu.isPageSelected",
    "Menu.onLocationChange"
  ],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;YAEA;gBASIA,cAAiCA,QAAQA,EAAwBA,SAASA;oBACtEC,IAAIA,CAACA,QAAQA,GAAGA,QAAQA,CAAAA;oBACxBA,IAAIA,QAAQA,GAAQA;wBAChBA;4BACIA,MAAMA,EAAEA,YAAYA;4BACpBA,MAAMA,EAAEA,SAASA;yBACpBA;wBACDA;4BACIA,MAAMA,EAAEA,WAAWA;4BACnBA,KAAKA,EAAEA,WAAWA;4BAClBA,MAAMA,EAAEA,MAAMA;yBACjBA;wBACDA;4BACIA,MAAMA,EAAEA,SAASA;4BACjBA,KAAKA,EAAEA,SAASA;4BAChBA,MAAMA,EAAEA,MAAMA;yBACjBA;wBACDA;4BACIA,MAAMA,EAAEA,eAAeA;4BACvBA,MAAMA,EAAEA,SAASA;yBACpBA;wBACDA;4BACIA,MAAMA,EAAEA,OAAOA;4BACfA,KAAKA,EAAEA,OAAOA;4BACdA,MAAMA,EAAEA,MAAMA;yBACjBA;wBACDA;4BACIA,MAAMA,EAAEA,QAAQA;4BAChBA,KAAKA,EAAEA,QAAQA;4BACfA,MAAMA,EAAEA,MAAMA;yBACjBA;wBACDA;4BACIA,MAAMA,EAAEA,OAAOA;4BACfA,KAAKA,EAAEA,OAAOA;4BACdA,MAAMA,EAAEA,MAAMA;yBACjBA;wBACDA;4BACIA,MAAMA,EAAEA,UAAUA;4BAClBA,MAAMA,EAAEA,SAASA;4BACjBA,UAAUA,EAAEA;gCACRA;oCACIA,MAAMA,EAAEA,MAAMA;oCACdA,MAAMA,EAAEA,QAAQA;oCAChBA,OAAOA,EAAEA;wCACLA;4CACIA,MAAMA,EAAEA,MAAMA;4CACdA,KAAKA,EAAEA,UAAUA;4CACjBA,MAAMA,EAAEA,MAAMA;yCACjBA,EAACA;4CACEA,MAAMA,EAAEA,UAAUA;4CAClBA,KAAKA,EAAEA,UAAUA;4CACjBA,MAAMA,EAAEA,MAAMA;yCACjBA;qCACJA;iCACJA;gCACDA;oCACIA,MAAMA,EAAEA,OAAOA;oCACfA,MAAMA,EAAEA,QAAQA;oCAChBA,OAAOA,EAAEA;wCACLA;4CACIA,MAAMA,EAAEA,cAAcA;4CACtBA,KAAKA,EAAEA,UAAUA;4CACjBA,MAAMA,EAAEA,MAAMA;yCACjBA;wCACDA;4CACIA,MAAMA,EAAEA,eAAeA;4CACvBA,KAAKA,EAAEA,UAAUA;4CACjBA,MAAMA,EAAEA,MAAMA;yCACjBA;qCACJA;iCACJA;6BACJA;yBACJA;qBACJA,CAACA;oBACFA,IAAIA,CAACA,QAAQA,GAAGA,QAAQA,CAACA;oBACzBA,SAASA,CAACA,GAAGA,CAACA,wBAAwBA,EAAEA,IAAIA,CAACA,gBAAgBA,CAACA,IAAIA,CAACA,IAAIA,CAACA,CAACA,CAACA;oBAC1EA,IAAIA,CAACA,gBAAgBA,EAAEA,CAACA,CAAAA,oBAAoBA;gBAChDA,CAACA;gBAEDD,4BAAaA,GAAbA,UAAcA,OAAOA;oBACjBE,IAAIA,CAACA,aAAaA,GAAGA,OAAOA,CAACA;gBACjCA,CAACA;gBAEDF,kCAAmBA,GAAnBA,UAAoBA,OAAOA;oBACvBG,IAAIA,CAACA,aAAaA,GAAGA,CAACA,IAAIA,CAACA,aAAaA,KAAKA,OAAOA,GAAGA,IAAIA,GAAGA,OAAOA,CAACA,CAACA;gBAC3EA,CAACA;gBAEDH,gCAAiBA,GAAjBA,UAAoBA,OAAOA;oBACvBI,MAAMA,CAACA,IAAIA,CAACA,aAAaA,KAAKA,OAAOA,CAACA;gBAC1CA,CAACA;gBAEDJ,yBAAUA,GAAVA,UAAYA,OAAOA,EAAEA,IAAIA;oBACrBK,IAAIA,CAACA,cAAcA,GAAGA,OAAOA,CAACA;oBAC9BA,IAAIA,CAACA,WAAWA,GAAGA,IAAIA,CAACA;gBAC5BA,CAACA;gBAEDL,6BAAcA,GAAdA,UAAeA,IAAIA;oBACfM,MAAMA,CAACA,IAAIA,CAACA,WAAWA,KAAKA,IAAIA,CAACA;gBACrCA,CAACA;gBAEDN,+BAAgBA,GAAhBA;oBACIO,IAAIA,IAAIA,GAAGA,IAAIA,CAACA,QAAQA,CAACA,IAAIA,EAAEA,CAACA;oBAChCA,IAAIA,KAAKA,GAAGA,IAAIA,CAACA;oBACjBA,IAAIA,SAASA,GAAGA,UAASA,OAAOA,EAAEA,IAAIA;wBAClC,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;4BAChC,KAAK,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;4BAC7B,KAAK,CAAC,UAAU,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;wBACpC,CAAC;oBACL,CAAC,CAACA;oBACFA,IAAIA,CAACA,QAAQA,CAACA,OAAOA,CAACA,UAASA,OAAWA;wBACtC,EAAE,CAAC,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC;4BACnB,+DAA+D;4BAC/D,OAAO,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAC,YAAgB;gCACtC,EAAE,CAAA,CAAC,YAAY,CAAC,KAAK,CAAC,CAAA,CAAC;oCACnB,YAAY,CAAC,KAAK,CAAC,OAAO,CAAC,UAAS,IAAI;wCACpC,SAAS,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;oCAClC,CAAC,CAAC,CAAC;gCACP,CAAC;4BACL,CAAC,CAAC,CAAC;wBACP,CAAC;wBACD,IAAI,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;4BACrB,mDAAmD;4BACnD,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,UAAS,IAAI;gCAC/B,SAAS,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;4BAC7B,CAAC,CAAC,CAAC;wBACP,CAAC;wBACD,IAAI,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,IAAI,KAAK,MAAM,CAAC,CAAC,CAAC;4BAC/B,qDAAqD;4BACrD,SAAS,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;wBAChC,CAAC;oBACL,CAAC,CAACA,CAACA;gBACPA,CAACA;gBA5ILP;oBAACA,kBAAOA;oBASQA,WAACA,iBAAMA,CAACA,WAAWA,CAACA,CAAAA;oBAAWA,WAACA,iBAAMA,CAACA,YAAYA,CAACA,CAAAA;;yBAoInEA;gBAADA,WAACA;YAADA,CAACA,AA7ID,IA6IC;YA7ID,uBA6IC,CAAA",
  "sourcesContent": [
    "import {Service,Inject} from \"mangular/annotate\";\n\n@Service\nexport class Menu {\n\n    public sections:any;\n    private location:any;\n    private openedSection:any;\n    private currentPage:any;\n    private currentSection:any;\n\n    constructor(@Inject('$location') location, @Inject('$rootScope') rootScope){\n        this.location = location\n        var sections :any = [\n            {\n                \"name\": \"Monitoring\",\n                \"type\": \"heading\"\n            },\n            {\n                \"name\": \"Dashboard\",\n                \"url\": \"dashboard\",\n                \"type\": \"link\",\n            },\n            {\n                \"name\": \"Monitor\",\n                \"url\": \"monitor\",\n                \"type\": \"link\",\n            },\n            {\n                \"name\": \"Configuration\",\n                \"type\": \"heading\"\n            },\n            {\n                \"name\": \"Users\",\n                \"url\": \"users\",\n                \"type\": \"link\",\n            },\n            {\n                \"name\": \"Groups\",\n                \"url\": \"groups\",\n                \"type\": \"link\",\n            },\n            {\n                \"name\": \"Roles\",\n                \"url\": \"roles\",\n                \"type\": \"link\",\n            },\n            {\n                \"name\": \"Settings\",\n                \"type\": \"heading\",\n                \"children\": [\n                    {\n                        \"name\": \"Jobs\",\n                        \"type\": \"toggle\",\n                        \"pages\": [\n                            {\n                                \"name\": \"Cron\",\n                                \"url\": \"pages1_1\",\n                                \"type\": \"link\",\n                            },{\n                                \"name\": \"Schedule\",\n                                \"url\": \"pages1_1\",\n                                \"type\": \"link\",\n                            }\n                        ]\n                    },\n                    {\n                        \"name\": \"Admin\",\n                        \"type\": \"toggle\",\n                        \"pages\": [\n                            {\n                                \"name\": \"Agent Config\",\n                                \"url\": \"pages2_1\",\n                                \"type\": \"link\",\n                            },\n                            {\n                                \"name\": \"Lead Settings\",\n                                \"url\": \"pages2_1\",\n                                \"type\": \"link\",\n                            }\n                        ],\n                    },\n                ]\n            },\n        ];\n        this.sections = sections;\n        rootScope.$on('$locationChangeSuccess', this.onLocationChange.bind(this));\n        this.onLocationChange();//temporary solution\n    }\n\n    selectSection(section){\n        this.openedSection = section;\n    }\n\n    toggleSelectSection(section) {\n        this.openedSection = (this.openedSection === section ? null : section);\n    }\n\n    isSectionSelected  (section) {\n        return this.openedSection === section;\n    }\n\n    selectPage (section, page) {\n        this.currentSection = section;\n        this.currentPage = page;\n    }\n\n    isPageSelected(page){\n        return this.currentPage === page;\n    }\n    \n    onLocationChange(){\n        var path = this.location.path();\n        var _this = this;\n        var matchPage = function(section, page) {\n            if (path.indexOf(page.url) !== -1) {\n                _this.selectSection(section);\n                _this.selectPage(section, page);\n            }\n        };\n        this.sections.forEach(function(section:any) {\n            if (section.children) {\n                // matches nested section toggles, such as API or Customization\n                section.children.forEach((childSection:any)=>{\n                    if(childSection.pages){\n                        childSection.pages.forEach(function(page){\n                            matchPage(childSection, page);\n                        });\n                    }\n                });\n            }\n            else if (section.pages) {\n                // matches top-level section toggles, such as Demos\n                section.pages.forEach(function(page) {\n                    matchPage(section, page);\n                });\n            }\n            else if (section.type === 'link') {\n                // matches top-level links, such as \"Getting Started\"\n                matchPage(section, section);\n            }\n        });\n    }\n}"
  ]
}